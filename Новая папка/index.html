<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Аудиоплеер с изображением</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .subtitle {
            color: #a0a0c0;
            font-size: 1.1rem;
        }
        
        .image-container {
            width: 100%;
            margin-bottom: 40px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }
        
        .image-container:hover {
            transform: translateY(-5px);
        }
        
        .image-container img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .player-container {
            background: rgba(30, 30, 60, 0.8);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .player-header {
            display: flex;
            flex-direction: column; /* Изменено на колонку */
            justify-content: center; /* Центрирование по вертикали */
            align-items: center; /* Центрирование по горизонтали */
            text-align: center; /* Центрирование текста */
            margin-bottom: 20px;
        }
        
        .track-info {
            flex-grow: 1;
            width: 100%; /* Занимает всю ширину */
            margin-bottom: 15px; /* Отступ снизу */
        }
        
        .track-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 5px;
            text-align: center; /* Центрирование заголовка */
            word-wrap: break-word; /* Перенос длинных слов */
        }
        
        .track-duration {
            color: #a0a0c0;
            font-size: 0.9rem;
            text-align: center; /* Центрирование времени */
        }
        
        .player-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .control-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
        }
        
        .control-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }
        
        .play-btn {
            background: linear-gradient(135deg, #00dbde, #fc00ff);
            font-size: 2rem;
            width: 60px;
            height: 60px;
        }
        
        .play-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(252, 0, 255, 0.5);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .volume-icon {
            font-size: 1.5rem;
            color: #a0a0c0;
        }
        
        .volume-slider {
            flex-grow: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #fc00ff;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(252, 0, 255, 0.5);
        }
        
        .volume-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #fc00ff;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(252, 0, 255, 0.5);
        }
        
        .time-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: #a0a0c0;
            font-size: 0.9rem;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .player-container {
                padding: 20px;
            }
            
            .control-buttons {
                gap: 15px;
            }
            
            .track-title {
                font-size: 1.3rem; /* Уменьшен размер для мобильных */
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Воложинский костел</h1>
            <p class="subtitle">описание костела</p>
        </header>
        
        <div class="image-container">
            <img id="main-image" src="1.jpg" alt="Основное изображение">
        </div>
        
        <div class="player-container">
            <div class="player-header">
                <div class="track-info">
                    <div class="track-title" id="track-title">Моя музыкальная композиция</div>
                    <div class="track-duration" id="track-duration">0:00 / 0:00</div>
                </div>
            </div>
            
            <div class="player-controls">
                <div class="control-buttons">
                    <button class="control-btn" id="prev-btn" title="Предыдущий трек">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-btn" id="play-btn" title="Воспроизвести/Пауза">
                        <i class="fas fa-play" id="play-icon"></i>
                    </button>
                    <button class="control-btn" id="next-btn" title="Следующий трек">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                
                <div class="volume-control">
                    <div class="volume-icon">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <input type="range" min="0" max="100" value="70" class="volume-slider" id="volume-slider">
                </div>
                
                <div class="time-info">
                    <span id="current-time">0:00</span>
                    <span id="total-time">0:00</span>
                </div>
            </div>
        </div>
        
        <footer>
            <p> &copy; 2026</p>
        </footer>
    </div>

    <script>
        // Элементы DOM
        const audioPlayer = new Audio();
        const playBtn = document.getElementById('play-btn');
        const playIcon = document.getElementById('play-icon');
        const volumeSlider = document.getElementById('volume-slider');
        const currentTimeEl = document.getElementById('current-time');
        const totalTimeEl = document.getElementById('total-time');
        const trackTitle = document.getElementById('track-title');
        const trackDuration = document.getElementById('track-duration');
        
        // Настройка аудиофайла
        audioPlayer.src = 'Информация о костеле.mp3'; // Укажите имя вашего MP3 файла
        audioPlayer.volume = volumeSlider.value / 100;
        
        // Функция для декодирования URI компонентов (поддержка русских названий)
        function decodeFileName(fileName) {
            try {
                // Декодируем URL-кодированные символы
                return decodeURIComponent(fileName);
            } catch (e) {
                // Если возникает ошибка, возвращаем оригинальное имя
                return fileName;
            }
        }
        
        // Обновление названия трека из имени файла с поддержкой русских символов
        function updateTrackTitle() {
            // Получаем полный путь к файлу
            const fullPath = audioPlayer.src;
            
            // Извлекаем имя файла из пути
            let fileName = '';
            
            // Проверяем, является ли путь URL
            if (fullPath.startsWith('http://') || fullPath.startsWith('https://') || fullPath.startsWith('file://')) {
                // Для URL извлекаем последнюю часть после последнего слеша
                fileName = fullPath.split('/').pop();
            } else {
                // Для относительных путей
                fileName = fullPath.split('/').pop();
            }
            
            // Декодируем имя файла (для русских символов)
            fileName = decodeFileName(fileName);
            
            // Удаляем расширение .mp3 и любые другие параметры
            fileName = fileName.replace('.mp3', '');
            fileName = fileName.split('?')[0];
            
            // Если имя файла пустое, используем стандартное название
            if (!fileName || fileName === '') {
                fileName = 'Информация о костеле';
            }
            
            trackTitle.textContent = fileName;
        }
        
        // Форматирование времени в минуты:секунды
        function formatTime(seconds) {
            if (isNaN(seconds) || seconds === Infinity) {
                return "0:00";
            }
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        // Обновление времени трека
        function updateTime() {
            currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            totalTimeEl.textContent = formatTime(audioPlayer.duration);
            trackDuration.textContent = `${formatTime(audioPlayer.currentTime)} / ${formatTime(audioPlayer.duration)}`;
        }
        
        // Воспроизведение/пауза
        playBtn.addEventListener('click', () => {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playIcon.classList.remove('fa-play');
                playIcon.classList.add('fa-pause');
                playBtn.title = "Пауза";
            } else {
                audioPlayer.pause();
                playIcon.classList.remove('fa-pause');
                playIcon.classList.add('fa-play');
                playBtn.title = "Воспроизвести";
            }
        });
        
        // Управление громкостью
        volumeSlider.addEventListener('input', () => {
            audioPlayer.volume = volumeSlider.value / 100;
        });
        
        // Обновление времени при загрузке метаданных
        audioPlayer.addEventListener('loadedmetadata', () => {
            updateTime();
            updateTrackTitle();
        });
        
        // Обновление времени во время воспроизведения
        audioPlayer.addEventListener('timeupdate', updateTime);
        
        // Сброс кнопки воспроизведения при окончании трека
        audioPlayer.addEventListener('ended', () => {
            playIcon.classList.remove('fa-pause');
            playIcon.classList.add('fa-play');
            playBtn.title = "Воспроизвести";
        });
        
        // Обработка ошибок загрузки изображения
        document.getElementById('main-image').onerror = function() {
            this.src = 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80';
            this.alt = "Изображение по умолчанию";
        };
        
        // Обработка ошибок загрузки аудио
        audioPlayer.onerror = function() {
            trackTitle.textContent = "Информация о костеле";
            trackDuration.textContent = "0:00 / 0:00";
        };
        
        // Инициализация при загрузке страницы
        window.addEventListener('load', () => {
            updateTrackTitle();
            // Пытаемся загрузить метаданные аудио
            if (audioPlayer.readyState >= 1) {
                updateTime();
            }
        });
    </script>
</body>
</html>